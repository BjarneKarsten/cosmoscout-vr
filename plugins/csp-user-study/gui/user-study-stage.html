<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <link type="text/css" rel="stylesheet" href="third-party/css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="third-party/css/nouislider.css" />
  <link type="text/css" rel="stylesheet" href="css/gui.css">

  <script type="text/javascript" src="third-party/js/jquery-2.2.3.min.js"></script>
  <script type="text/javascript" src="third-party/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="third-party/js/nouislider.min.js"></script>

  <script type="text/javascript" src="js/api.js"></script>
  <script type="text/javascript" src="js/cosmoscout.js"></script>
  <script type="text/javascript" src="js/apis/utils.js"></script>
  <script type="text/javascript" src="js/apis/gui.js"></script>

  <script type="text/javascript">
    // set/reset HTML to display standard checkpoints
    function setCP() {
      document.getElementById("cp").className = "";
      document.getElementById("fms").hidden = true;
      document.getElementById("chs").hidden = true;
    }
    // set HTML to display FMS score checkpoint
    function setFMS() {
      setCP()
      document.getElementById("cp").className = "fms";
      document.getElementById("fms").hidden = false;
    }
    // set HTML to display Change Scenario checkpoint
    function setCHS(html = "") {
      setCP()
      document.getElementById("cp").className = "chs";
      document.getElementById("chs").hidden = false;
      document.getElementById("chs").innerHTML = html;
    }
    // set the opacity of a checkpoint to distinguish between current (1.0) and upcoming (~0.5) checkpoints
    function setOpacity(opacity) {
      document.querySelector(":root").style.opacity = "" + opacity;
    }

    // init cosmoscout api to init sliders
    var CosmoScout = new CosmoScoutAPI();

    document.addEventListener('DOMContentLoaded', () => {
      CosmoScout.init(
        UtilsApi,
        GuiApi
      );

      CosmoScout.gui.initSlider("setFMS", 0, 20, 1, [0]);

    })
  </script>
  <!-- filters generated from color at https://codepen.io/sosuke/pen/Pjoqqp -->
  <style>
    #cp {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 100%;
      border: 10px solid rgb(94, 204, 255);
      background: radial-gradient(circle, rgba(94, 204, 255, 0) 40%, rgba(94, 204, 255, 0.8) 100%);
    }

    #cp.fms {
      border: 10px solid rgb(255, 201, 102);
      background: radial-gradient(circle, rgba(255, 201, 102, 0) 40%, rgba(255, 201, 102, 0.8) 100%);
    }

    #cp.chs {
      border: 10px solid rgb(164, 255, 112);
      background: radial-gradient(circle, rgba(164, 255, 112, 0) 40%, rgba(164, 255, 112, 0.8) 100%);
    }

    #fms,
    #chs {
      font-size: 2em;
      text-align: center;
      width: 70%;
    }

    #fms>input,
    #chs>input {
      background: var(--cs-color-primary);
      border-radius: 10px;
      border-width: 0.1em;
      border-color: black;
      margin-top: 5%;
    }

    #chs>input:first-child {
      margin-top: 0;
    }

    #fms>input {
      margin-top: 10%;
    }

    #fms {
      margin-top: 15%;
    }

    #fms>input:hover,
    #chs>input:hover {
      background: white;
    }

    .range-label span {
      font-size: 0.6em;
    }

    .noUi-target .range-label {
      line-height: 30px;
      min-width: 35px;
    }

    .noUi-target .noUi-active .range-label {
      transform: translate(-50%, -20px);
    }
  </style>
</head>

<body style="overflow: hidden; margin: 0; position: absolute; top: 0; bottom: 0; left: 0; right: 0;">
  <div id="cp">
    <div id="chs"></div>
    <div id="fms">
      <div data-callback="setFMS"></div>
      <input type="button" value="Confirm" onclick="window.callNative('confirmFMS')">
    </div>
  </div>
</body>

</html>